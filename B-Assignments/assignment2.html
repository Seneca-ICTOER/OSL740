<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-B-Assignments/assignment2">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="icon" href="/OSL740/img/pwa/icon-512x512.png">
<link rel="manifest" href="/OSL740/manifest.json">
<meta name="theme-color" content="#DA291C">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#DA291C">
<link rel="apple-touch-icon" href="/OSL740/img/pwa/icon-192x192.png">
<link rel="mask-icon" href="/OSL740/img/pwa/icon-512x512.png" color="#DA291C">
<meta name="msapplication-TileImage" content="/OSL740/img/pwa/icon-512x512.png">
<meta name="msapplication-TileColor" content="#DA291C">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Assignment 2 | OSL740 - Administration of Open Source Systems</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Seneca-ICTOER.github.io//OSL740/B-Assignments/assignment2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Assignment 2 | OSL740 - Administration of Open Source Systems"><meta data-rh="true" name="description" content="OSL740 Assignment"><meta data-rh="true" property="og:description" content="OSL740 Assignment"><link data-rh="true" rel="icon" href="/OSL740/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Seneca-ICTOER.github.io//OSL740/B-Assignments/assignment2"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OSL740/B-Assignments/assignment2" hreflang="en"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OSL740/B-Assignments/assignment2" hreflang="x-default"><link rel="stylesheet" href="/OSL740/assets/css/styles.099fe1a9.css">
<link rel="preload" href="/OSL740/assets/js/runtime~main.b3976ec8.js" as="script">
<link rel="preload" href="/OSL740/assets/js/main.8404b104.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/OSL740/"><div class="navbar__logo"><img src="/OSL740/img/logo.svg" alt="Seneca College" class="themedImage_ToTc themedImage--light_HNdA"><img src="/OSL740/img/logo-dark.svg" alt="Seneca College" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OSL740 - Administration of Open Source Systems</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSL740/">Welcome to OSL740</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSL740/weekly-schedule">Weekly Schedule</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OSL740/A-Labs/lab1-vbox">Labs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/OSL740/B-Assignments/assignment1">Assignments</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/B-Assignments/assignment1">Assignment 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/OSL740/B-Assignments/assignment2">Assignment 2</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OSL740/C-ExtraResources/tips">Extra Resources</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/OSL740/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Assignments</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Assignment 2</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Assignment 2</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">â€‹</a></h2><p>In Assignment 2 you will install configure a LAMP stack, which is an acronym that originally stood for Linux, Apache, MySQL and PHP. LAMP is a commonly used acronym and combination of technologies for hosting web based applications. In fact, newer technologies that have come along to replace elements of the LAMP stack tend to pick their name based on the letter in the acronym that they are providing services for (ie MariaDB or MongoDB, Perl or Python). You will then use this platform to install and host Wordpress (a popular free and open source content management system or CMS). You will also configure your firewall to further enhance the security of your computer system.</p><p>This assignment will be completed inside your Ubuntu VM from Assignment 1.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="important-information">Important information<a class="hash-link" href="#important-information" title="Direct link to heading">â€‹</a></h2><p><strong>Weight</strong>: 15% of your overall grade</p><p><strong>Due Date</strong>: Refer to your section&#x27;s Blackboard announcements.</p><p><strong>Submission</strong>: You will be submitting your completed work through a series of screenshots on Blackboard. (See below.)</p><p><strong>NOTE:</strong> Do this assignment inside the <strong>ubuntu</strong> virtual machine and use your user (ie: <strong>jason.carman</strong> or <strong>ataur.rahman</strong>) you created in <strong>Assignment 1</strong>.</p><p><strong>NOTE:</strong> It is YOUR responsibility to backup your <strong>ubuntu</strong> VM for this assignment! You are required to frequently backup your VM prior to exiting a work session during this assignment. Your instructor will NOT accept the fact that your hard disk crashed and lost all of your work. If you properly backed up your VM images and xml configuration files to a USB, then you can purchase a new hard-disk or wipe and recreate your hard disk and restore your VMs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-your-ubuntu-vm-to-command-line">Setting your Ubuntu VM to command line<a class="hash-link" href="#setting-your-ubuntu-vm-to-command-line" title="Direct link to heading">â€‹</a></h2><p>Using the appropriate systemctl commands, set your Ubuntu vm to boot into CLI (multi-user.target) by default. Either reboot or use isolate to set it to CLI. Do the rest of the assignment using this interface.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-a-static-ip--hostname">Setting a static IP &amp; hostname<a class="hash-link" href="#setting-a-static-ip--hostname" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-a-static-ip-on-your-ubuntu-vm">Set a static IP on your Ubuntu VM:<a class="hash-link" href="#set-a-static-ip-on-your-ubuntu-vm" title="Direct link to heading">â€‹</a></h3><ul><li>use Nano to edit /etc/netplan/99_config.yaml (remember to use sudo)</li><li>substitute enp1s0 with the interface on your VM (confirm with ip a)</li><li>add the following configuration to the file:</li></ul><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">network</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">renderer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> networkd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ethernets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enp1s0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">addresses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 192.168.245.5/24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">routes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">to</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">via</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.245.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">nameservers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">addresses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">192.168.245.1</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Issue the following command to apply the changes. If you receive any error messages, check your configuration file.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> netplan apply</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-local-hostname-resolution">Configuring local hostname resolution<a class="hash-link" href="#configuring-local-hostname-resolution" title="Direct link to heading">â€‹</a></h3><p>Edit /etc/hosts (on your Ubuntu VM and debhost) to allow local hostname resolution for <strong>username-ubuntu</strong> to <strong>192.168.245.5</strong></p><p>Test your network connectivity (both internally and to the internet) using ping before continuing.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="updating-and-installing-packages">Updating and Installing Packages<a class="hash-link" href="#updating-and-installing-packages" title="Direct link to heading">â€‹</a></h2><p>Before proceeding make sure you have updated your system using apt.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-following-packages-using-apt">Install the following packages using apt<a class="hash-link" href="#install-the-following-packages-using-apt" title="Direct link to heading">â€‹</a></h3><ul><li><strong>apache2</strong>: this is the Apache web server software.</li><li><strong>php</strong>: this is the PHP server software, which allows Apache to run more complex websites.</li><li><strong>php-mysql</strong>: this is a PHP extension that allows PHP to use a MySQL server.</li><li><strong>mariadb-server</strong>: this is the database software.</li><li><strong>wordpress</strong>: a popular LAMP application used to build websites.</li><li><strong>nftables</strong>: a firewall designed as a replacement for iptables. It supports iptables syntax and translates them into nftables rules.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-your-firewall-nftables">Configuring Your Firewall (nftables)<a class="hash-link" href="#configuring-your-firewall-nftables" title="Direct link to heading">â€‹</a></h3><ul><li><p>Use systemctl to:</p><ul><li>stop ufw and prevent it from starting automatically on boot</li><li>start nftables and configure it to start automatically on boot</li></ul></li><li><p>Configure your firewall with the following rules:</p><ul><li><p>Add a rule to allow incoming http traffic.</p><ul><li><strong>HINT</strong>: to figure out which port is required issue the command <strong>grep http /etc/services</strong>. You may need to pipe the output to head to see the top of the list. The required port is the first one listed.</li></ul></li><li><p>Add a rule to allow incoming ssh traffic.</p><ul><li><strong>HINT</strong>: to figure out which port is required issue the command <strong>grep ssh /etc/services</strong>. You may need to pipe the output to head to see the top of the list.</li></ul></li><li><p>Set the default policy to <strong>drop</strong>.</p></li><li><p>Add the following rules to allow apt through the firewall, so you can install software and update the system.</p><ul><li><code>sudo iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</code></li><li><code>sudo iptables -A INPUT -p udp --dport 53 -j ACCEPT</code></li></ul></li><li><p>Save your firewall configuration</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-apache">Configuring Apache<a class="hash-link" href="#configuring-apache" title="Direct link to heading">â€‹</a></h3><ul><li><p>Confirm the apache2 service is running using <strong>systemctl</strong>, and that it is set to start automatically on boot. Use the appropriate <strong>systemctl</strong> commands if either of these is not configured.</p></li><li><p>Confirm that you can connect to your web server using a web browser. <strong>Note:</strong> If you can&#x27;t connect to it from outside the machine - perhaps your firewall is blocking access to the web server.</p><ul><li>from your Ubuntu VM (you can test using <strong>lynx</strong>)</li><li>from the host (you can test using Firefox with your Ubuntu VMâ€™s IP address). You should see the Apache Test Page.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-mariadb">Configuring MariaDB<a class="hash-link" href="#configuring-mariadb" title="Direct link to heading">â€‹</a></h3><ul><li><p>Confirm the mariadb service is running using <strong>systemctl</strong>, and that it is set to start automatically on boot. Use the appropriate <strong>systemctl</strong> commands if either of these is not configured.</p></li><li><p>Run the mysql secure installation script by issuing the command <strong>sudo mysql_secure_installation</strong> and follow the prompts onscreen to:</p><ul><li>Set the root password to your Seneca username</li><li>Remove anonymous users</li><li>Disallow root login remotely</li><li>Remove the test database and access to it</li><li>Reload the privilege tables</li></ul></li><li><p>This following part is challenging so take your time and read the instructions to make sure you do it properly, we have to set up a dedicated user and database for wordpress:</p></li><li><p>You will need to run the following commands in a terminal on your Ubuntu VM.</p><ul><li>Your adminusername is root</li><li>Your databasename is myblog</li><li>Your wordpressusername is your Seneca username</li><li>The password should also be your Seneca username</li><li>Your hostname is localhost</li></ul></li><li><p>Connect to the database using the following command. Type the password when prompted:</p></li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mysql â€“h localhost â€“u root â€“p</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Create the database:</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE DATABASE myblog</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Create the new user (change wordpressusername and password to your Seneca username):</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE </span><span class="token environment constant" style="color:#36acaa">USER</span><span class="token plain"> wordpressusername@localhost IDENTIFIED BY </span><span class="token string" style="color:#e3116c">&#x27;password&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Grant your new user privileges to that database (change wordpressusername and password to your Seneca username):</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GRANT ALL PRIVILEGES ON myblog.* TO wordpressusername@localhost IDENTIFIED BY </span><span class="token string" style="color:#e3116c">&#x27;password&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Reload the privilege tables:</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FLUSH PRIVILEGES</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-wordpress">Configuring Wordpress<a class="hash-link" href="#configuring-wordpress" title="Direct link to heading">â€‹</a></h2><p>Create a virtual host file in <strong>/etc/apache2/sites-available/wordpress.conf</strong> with the following contents:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Alias /blog /usr/share/wordpress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Directory /usr/share/wordpress</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Options FollowSymLinks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AllowOverride Limit Options FileInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DirectoryIndex index.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Order allow,deny</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Allow from all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">/Directory</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Directory /usr/share/wordpress/wp-content</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Options FollowSymLinks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Order allow,deny</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Allow from all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">/Directory</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Enable the new WordPress site</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> a2ensite wordpress</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Use systemctl to restart the apache service.</li></ul><p>Edit the file <strong>/etc/wordpress/config-username-ubuntu.php</strong> where username is your Seneca username. Add the following contents (changing username to your Seneca username where appropriate).</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">define(&#x27;DB_NAME&#x27;, &#x27;myblog&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">define(&#x27;DB_USER&#x27;, &#x27;username&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">define(&#x27;DB_PASSWORD&#x27;, &#x27;username&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">define(&#x27;DB_HOST&#x27;, &#x27;localhost&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">define(&#x27;WP_CONTENT_DIR&#x27;, &#x27;/usr/share/wordpress/wp-content&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Open a web browser (ie Firefox) on your host and enter the following url: http://username-ubuntu/blog/wp-admin/install.php</li><li>You should see a Wordpress Welcome/Setup page. Follow the prompts on screen and enter the appropriate information.<ul><li>Use the <strong>Database Name</strong>, <strong>Username</strong> and <strong>Password</strong> you configured above in mariadb.</li><li>Set the title to Your Name&#x27;s Blog. For example for me it would be &quot;OSL740 Professor&#x27;s Blog&quot;</li><li>Set the username to your Seneca ID.</li><li>Set the password to your Seneca ID. You may need to check the box to <strong>Confirm use of weak password</strong></li><li>Set the email to your Seneca email address.</li><li>Click &quot;Install Wordpress&quot;, you should see a &quot;Success!&quot; message.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="write-up">Write-up<a class="hash-link" href="#write-up" title="Direct link to heading">â€‹</a></h2><p>Write a blog post on your new blog explaining:</p><ul><li>What is Apache, PHP, MySQL, and Wordpress.</li><li>What problems (minor and major) you ran into during the installation and how you solved
them.</li></ul><p>Write a second post on your blog including for example:</p><ul><li>Are you ready for the exam or not?</li><li>List the material you are strong on.</li><li>List the material you are worried about.</li><li>List any questions or topics you would like me to address during exam review.</li></ul><p>Make your posts look professional. That means use good english, headings, bullet or numbered lists, etc.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="submission">Submission<a class="hash-link" href="#submission" title="Direct link to heading">â€‹</a></h2><p>On your <strong>Ubuntu</strong> vm issue the following command to download the check script. You may need to install git using apt.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/jmcarman/a2-check</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Give the <strong>marka2.bash</strong> script execute permission and run it.</p><p>Upload the following to the Assignment 2 folder on blackboard:</p><ul><li>Output from the Assignment 2 check script (a2output.txt)</li><li>A screenshot showing your first blog post on wordpress</li><li>A screenshot showing your second blog post on wordpress</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rubric">Rubric<a class="hash-link" href="#rubric" title="Direct link to heading">â€‹</a></h2><table><thead><tr><th align="left">Task</th><th align="left">Mark</th></tr></thead><tbody><tr><td align="left">System set to boot in multi-user.target (CLI)</td><td align="left">1</td></tr><tr><td align="left">Static IP applied</td><td align="left">2</td></tr><tr><td align="left">nftables installed and configured correctly</td><td align="left">2</td></tr><tr><td align="left">Apache configured and running</td><td align="left">3</td></tr><tr><td align="left">MariaDB configured and running</td><td align="left">3</td></tr><tr><td align="left">Wordpress configured correctly</td><td align="left">3</td></tr><tr><td align="left">Wordpress showing in Firefox</td><td align="left">1</td></tr><tr><td align="left">Blog accessed using local hostname resolution</td><td align="left">1</td></tr><tr><td align="left">First blog post</td><td align="left">1</td></tr><tr><td align="left">Second blog post</td><td align="left">1</td></tr><tr><td align="left">Submitted correctly</td><td align="left">2</td></tr><tr><td align="left"><strong>Total</strong></td><td align="left"><strong>20</strong></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Seneca-ICTOER/OSL740/tree/main/docs/B-Assignments/assignment2.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/OSL740/B-Assignments/assignment1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Assignment 1</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/OSL740/C-ExtraResources/tips"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tips</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#important-information" class="table-of-contents__link toc-highlight">Important information</a></li><li><a href="#setting-your-ubuntu-vm-to-command-line" class="table-of-contents__link toc-highlight">Setting your Ubuntu VM to command line</a></li><li><a href="#setting-a-static-ip--hostname" class="table-of-contents__link toc-highlight">Setting a static IP &amp; hostname</a><ul><li><a href="#set-a-static-ip-on-your-ubuntu-vm" class="table-of-contents__link toc-highlight">Set a static IP on your Ubuntu VM:</a></li><li><a href="#configuring-local-hostname-resolution" class="table-of-contents__link toc-highlight">Configuring local hostname resolution</a></li></ul></li><li><a href="#updating-and-installing-packages" class="table-of-contents__link toc-highlight">Updating and Installing Packages</a><ul><li><a href="#install-the-following-packages-using-apt" class="table-of-contents__link toc-highlight">Install the following packages using apt</a></li><li><a href="#configuring-your-firewall-nftables" class="table-of-contents__link toc-highlight">Configuring Your Firewall (nftables)</a></li><li><a href="#configuring-apache" class="table-of-contents__link toc-highlight">Configuring Apache</a></li><li><a href="#configuring-mariadb" class="table-of-contents__link toc-highlight">Configuring MariaDB</a></li></ul></li><li><a href="#configuring-wordpress" class="table-of-contents__link toc-highlight">Configuring Wordpress</a></li><li><a href="#write-up" class="table-of-contents__link toc-highlight">Write-up</a></li><li><a href="#submission" class="table-of-contents__link toc-highlight">Submission</a></li><li><a href="#rubric" class="table-of-contents__link toc-highlight">Rubric</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OSL740 - Administration of Open Source Systems</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/OSL740/">Contents</a></li><li class="footer__item"><a href="#" id="pwa-button" class="footer__link-item" hidden>Install as an App</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Seneca College.</div></div></div></footer></div>
<script src="/OSL740/assets/js/runtime~main.b3976ec8.js"></script>
<script src="/OSL740/assets/js/main.8404b104.js"></script>
</body>
</html>