<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-A-Labs/lab5">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="icon" href="/OSL740/img/pwa/icon-512x512.png">
<link rel="manifest" href="/OSL740/manifest.json">
<meta name="theme-color" content="#DA291C">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#DA291C">
<link rel="apple-touch-icon" href="/OSL740/img/pwa/icon-192x192.png">
<link rel="mask-icon" href="/OSL740/img/pwa/icon-512x512.png" color="#DA291C">
<meta name="msapplication-TileImage" content="/OSL740/img/pwa/icon-512x512.png">
<meta name="msapplication-TileColor" content="#DA291C">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Lab 5 | OSL740 - Administration of Open Source Systems</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Seneca-ICTOER.github.io//OSL740/A-Labs/lab5"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 5 | OSL740 - Administration of Open Source Systems"><meta data-rh="true" name="description" content="Lab 5"><meta data-rh="true" property="og:description" content="Lab 5"><link data-rh="true" rel="icon" href="/OSL740/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Seneca-ICTOER.github.io//OSL740/A-Labs/lab5"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OSL740/A-Labs/lab5" hreflang="en"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OSL740/A-Labs/lab5" hreflang="x-default"><link rel="stylesheet" href="/OSL740/assets/css/styles.099fe1a9.css">
<link rel="preload" href="/OSL740/assets/js/runtime~main.5c1cf171.js" as="script">
<link rel="preload" href="/OSL740/assets/js/main.c1b33485.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/OSL740/"><div class="navbar__logo"><img src="/OSL740/img/logo.svg" alt="Seneca College" class="themedImage_ToTc themedImage--light_HNdA"><img src="/OSL740/img/logo-dark.svg" alt="Seneca College" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OSL740 - Administration of Open Source Systems</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSL740/">Welcome to OSL740</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSL740/weekly-schedule">Weekly Schedule</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/OSL740/A-Labs/lab1-vbox">Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab1-vbox">Lab 1 - VirtualBox Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab1-vmware">Lab 1 - VMware Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab2">Lab 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab3">Lab 3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab4">Lab 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/OSL740/A-Labs/lab5">Lab 5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab6">Lab 6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab7">Lab 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab8">Lab 8</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OSL740/B-Assignments/assignment1">Assignments</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OSL740/C-ExtraResources/tips">Extra Resources</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/OSL740/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Labs</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 5</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Lab 5: Monitoring and Managing Hard Disk Space, Using LVM, and Scripting</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lab-preparation">Lab Preparation<a class="hash-link" href="#lab-preparation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="purpose-and-objectives-of-lab-5">Purpose and Objectives of Lab 5<a class="hash-link" href="#purpose-and-objectives-of-lab-5" title="Direct link to heading">​</a></h3><p>The purpose of this lab is to demonstrate how a Linux system administrator can monitor hard disk space availability, and to manage file system size via the Logical Volume Manager (LVM) application. This lab will also demonstrate how to manually mount (i.e. connect) and unmount (disconnect) partitions to file system directories, and demonstrate how to have partitions automatically mounted to directories upon Linux system startup.</p><p><img loading="lazy" alt="Software" src="/OSL740/assets/images/Software-ad583618dfc81275bab4da7518b86eb8.png" width="298" height="287" class="img_ev3q"></p><p>Monitoring Disk Space can fix problems <strong>before</strong> they become a crisis (like running low on hard disk space). We will use LVM to easily resize Linux file-systems.</p><p><img loading="lazy" alt="cron" src="/OSL740/assets/images/cron-eed842dff3680778b52aea1ec19ad84e.png" width="253" height="260" class="img_ev3q"></p><p>Linux system administrators need to schedule Linux shell scripts and commands (via <strong>crontab</strong>) to automatically run in order to be more productive.</p><p><strong>Main Objectives</strong></p><ul><li>Monitoring Disk Space with utilities such as <strong>ssm list</strong>, <strong>df -h</strong>, and <strong>du -ah</strong>.</li><li>Use the <strong>crontab</strong> utility to automatically schedule the execution of a shell script to &quot;flag&quot; low disk space.</li><li>Use <strong>LVM</strong> to <strong>resize partitions via command-line utilities</strong>.</li><li>Create, partition and format <strong>virtual hard disks</strong> to increase the size of file systems.</li><li>Manually connect and disconnect directories (mount points) to existing partitions (<strong>mount</strong>, <strong>umount</strong>).</li><li>Edit the <strong>/etc/fstab</strong> file to automatically mount partitions upon Linux server boot-up, and test the configuration prior to Linux server boot-up.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-required-materials">Minimum Required Materials<a class="hash-link" href="#minimum-required-materials" title="Direct link to heading">​</a></h3><ul><li><strong>Solid State Drive</strong></li><li><strong>USB key</strong> (for backups)</li><li><strong>Lab5 Log Book</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux-command-reference">Linux Command Reference<a class="hash-link" href="#linux-command-reference" title="Direct link to heading">​</a></h3><p><strong>LVM Information</strong></p><table><thead><tr><th><a href="http://man7.org/linux/man-pages/man8/vgs.8.html" target="_blank" rel="noopener noreferrer">vgs</a></th><th><a href="http://man7.org/linux/man-pages/man8/pvs.8.html" target="_blank" rel="noopener noreferrer">pvs</a></th><th><a href="http://man7.org/linux/man-pages/man8/lvs.8.html" target="_blank" rel="noopener noreferrer">lvs</a></th><th><a href="http://man7.org/linux/man-pages/man8/vgdisplay.8.html" target="_blank" rel="noopener noreferrer">vgdisplay</a></th><th><a href="http://man7.org/linux/man-pages/man8/pvdisplay.8.html" target="_blank" rel="noopener noreferrer">pvdisplay</a></th><th><a href="http://man7.org/linux/man-pages/man8/lvdisplay.8.html" target="_blank" rel="noopener noreferrer">lvdisplay</a></th><th><a href="http://manpages.ubuntu.com/manpages/trusty/man8/ssm.8.html" target="_blank" rel="noopener noreferrer">ssm</a></th></tr></thead></table><p><strong>LVM Management</strong></p><table><thead><tr><th><a href="http://man7.org/linux/man-pages/man8/lvextend.8.html" target="_blank" rel="noopener noreferrer">lvextend</a></th><th><a href="http://man7.org/linux/man-pages/man8/lvcreate.8.html" target="_blank" rel="noopener noreferrer">lvcreate</a></th><th><a href="http://man7.org/linux/man-pages/man8/lvreduce.8.html" target="_blank" rel="noopener noreferrer">lvreduce</a></th><th><a href="http://man7.org/linux/man-pages/man8/pvcreate.8.html" target="_blank" rel="noopener noreferrer">pvcreate</a></th><th><a href="http://man7.org/linux/man-pages/man8/vgextend.8.html" target="_blank" rel="noopener noreferrer">vgextend</a></th></tr></thead></table><p><strong>Miscellaneous</strong></p><table><thead><tr><th><a href="http://man7.org/linux/man-pages/man8/mount.8.html" target="_blank" rel="noopener noreferrer">mount</a></th><th><a href="http://man7.org/linux/man-pages/man8/umount.8.html" target="_blank" rel="noopener noreferrer">umount</a></th><th><a href="http://man7.org/linux/man-pages/man1/df.1.html" target="_blank" rel="noopener noreferrer">df</a></th><th><a href="http://man7.org/linux/man-pages/man1/du.1.html" target="_blank" rel="noopener noreferrer">du</a></th><th><a href="http://man7.org/linux/man-pages/man1/awk.1p.html" target="_blank" rel="noopener noreferrer">awk</a></th><th><a href="http://tldp.org/HOWTO/Partition/fdisk_partitioning.html" target="_blank" rel="noopener noreferrer">fdisk</a></th><th><a href="http://www.cyberciti.biz/faq/howto-format-create-linux-filesystem/" target="_blank" rel="noopener noreferrer">mkfs</a></th><th><a href="http://man7.org/linux/man-pages/man5/fstab.5.html" target="_blank" rel="noopener noreferrer">/etc/fstab</a></th><th><a href="http://code.tutsplus.com/tutorials/scheduling-tasks-with-cron-jobs--net-8800" target="_blank" rel="noopener noreferrer">Using crontab</a></th></tr></thead></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-1-monitoring-hard-disk-space">Investigation 1: Monitoring Hard Disk Space<a class="hash-link" href="#investigation-1-monitoring-hard-disk-space" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-hard-disk-space-utilities">Part 1: Hard Disk Space Utilities<a class="hash-link" href="#part-1-hard-disk-space-utilities" title="Direct link to heading">​</a></h3><p>Another essential duty of a Linux system administrator is to anticipate problems and take preventative measures to avoid computer system problems before they occur. An example would be to periodically monitor hard disk space in order to make adjustments before it impacts on system performance.</p><p>Therefore, we are going to learn in this section how to monitor disk space activity to help take corrective action.</p><p><img loading="lazy" alt="dfdh" src="/OSL740/assets/images/dfdh-694270de46d7c05e71d72d0090c9aeb8.png" width="622" height="244" class="img_ev3q"></p><p>The <strong>df</strong> and <strong>du</strong> commands are useful tools for Linux system administrators to flag disk space issues and investigate their causes.</p><p><strong>Perform the following steps:</strong></p><ol><li>Launch your <strong>debhost</strong> and <strong>deb2</strong> VMs.</li><li>Switch to your <strong>deb2</strong> machine.</li><li>Open a terminal.</li><li>Issue the command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">df</span><span class="token plain"> -h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Note the disk space usage for the <strong>/</strong> and <strong>/home</strong> partitions.</li><li>If a partition is running out of available space, the Linux System Administrator can reallocate space among partitions or add another disk and grow the file system. The administrator can also investigate the cause of low disk space. Two examples immediately come to mind: excessive use of space from users, and potential penetration from hackers.</li><li>To investigate excessive disk usage by regular users, the following commands would be useful, try these commands on both <strong>debhost</strong> and <strong>deb2</strong>:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Display the total space used in each users home directories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">du</span><span class="token plain"> -sh /home/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Display the total space used by a directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">du</span><span class="token plain"> -sh /home</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Display the largest files in a users home directory sorted by size</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">du</span><span class="token plain"> -a ~</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sort</span><span class="token plain"> -rn </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">head</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Display the files in a users home directory that are larger than 10M</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">find</span><span class="token plain"> ~</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> -size +10M</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="8"><li>Read the man page for the <code>du</code> command, make a note of the options <code>-s -a -h</code></li><li>Read the man page for the <code>find</code> command, make a note of the usage of the <code>-size</code> option</li><li>If there is a recurring space usage problem with regular users, the Linux system administrator can impose quotas (caps on disk usage). This method is not taught in this course.</li><li>There are a variety of methods to monitor potential penetration of a Linux system, and are taught in other courses. One method of monitoring potential penetration is use the find command (Note that <strong>find</strong> relies on the permissions of the user currently running it. Compare the results of running this command with and without sudo):</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">find</span><span class="token plain"> / -size +100000k</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="12"><li>The next section will apply some of these tools we have discussed into a shell script and crontab entry to periodically monitor and contact the system administrator of potential disk space issues (before they become a serious problem).</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-using-crontab-to-automatically-alert-system-administrator-of-low-hard-disk-space">Part 2: Using crontab to Automatically Alert System Administrator of Low Hard Disk Space<a class="hash-link" href="#part-2-using-crontab-to-automatically-alert-system-administrator-of-low-hard-disk-space" title="Direct link to heading">​</a></h3><p>This section focuses on how to schedule shell scripts to run automatically without the Linux system administrator having to interact with the script. It would be highly unlikely to expect a system administrator to stay up late (eg. 2 a.m.) to manually run a script to terminate processes or to re-boot Linux servers. <strong><code>cron</code></strong> tables are used to schedule scripts to run automatically.</p><p>The <strong>cron</strong> daemon (service) is used to refer to these tables and to run the scheduled tasks. The term <strong>cron</strong> comes from the old word <strong>chronograph</strong> meaning a special type of watch (actually a <em>stop-watch</em>).</p><p><strong>Please review these <a href="/OSL740/C-ExtraResources/bash-shell-scripting-tips">Bash Shell Scripting Tips</a> before proceeding with the following steps</strong></p><p><strong>Perform the following steps:</strong></p><ol><li>Perform this section in your <strong>debhost</strong> machine</li><li>Change to your <strong>bin</strong> directory.</li><li>Download the following shell script by issuing the following command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://raw.githubusercontent.com/OPS245/debian-labs/main/monitor-disk-space.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Try to understand what this script does (refer to the man pages for the <strong>awk</strong> and <strong>cut</strong> commands).</li><li>This script is supposed to email the root user if there are any potential partition size issues.</li><li>We will need to install the <strong>bsd-mailx</strong> package:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> bsd-mailx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="7"><li>Add execute permissions to the script and run it as your regular user</li></ol><blockquote><p><img loading="lazy" alt="caution" src="data:image/png;base64,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" width="64" height="64" class="img_ev3q">
Debian does not allow email to be delivered to root
(unlike most distributions)</p><p>Instead mail to root will be redirected to the mail box of your regular user</p></blockquote><ol start="8"><li>To check and read your local mail we will user the <strong>mail</strong> (mailx) command</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># To run the local mail client</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># mail is an interactive tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Some mail commands you can enter at the &amp; prompt:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List mailbox</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Read message 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Delete message 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Delete messages 2-5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d2-5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Quit mail</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># View help</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">help</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="9"><li><p>Check to see if there are any mail messages. If there are mail messages, they do not relate to this script execution. Remove all mail messages by typing d immediately followed by a mail message number range (eg. to remove all messages. For example, if there are 5 messages, type <strong>d1-5</strong> and then press <strong>ENTER</strong> and enter <strong>q</strong> to exit the mail application).</p></li><li><p>Edit the <strong>monitor-disk-space.bash</strong> script, and set the <code>alert=90</code> value to <code>alert=10</code>. Then save your editing session, and re-run this script.</p></li><li><p>Run the <strong>mail</strong> command. Do you have a mail message? Enter the mail message number to view the message. If there is a message, what is the purpose of this message?</p></li><li><p>Exit from the mail command.</p></li><li><p>The script as it is currently written will send the email to root. Change the <code>admin</code> variable in the script to your own username.</p></li><li><p>Run the script again and make sure the email message gets delivered to your normal user.</p></li></ol><p>In order to automatically run the script on a schedule, you can use the scheduler service in Linux called <strong>crontab</strong>. The term crontab stands for <strong>Chronograph Tables</strong>, where a chronograph is the old term for a timepiece (the forerunner of the modern stop-watch). You can run the crontab command to schedule commands and shell script to be run in a number of different ways.</p><ol start="15"><li>Quickly <a href="http://code.tutsplus.com/tutorials/scheduling-tasks-with-cron-jobs--net-8800" target="_blank" rel="noopener noreferrer">view the tutorial about the Using crontab</a> file to understand the purpose of this file and how to basically set up a schedule to run a shell script.</li><li>This particular script does not require root permissions so we can run it from our regular users <strong>crontab</strong>. Issue the following command to setup a crontab entry:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Confirm the cron service is enabled and active</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status </span><span class="token function" style="color:#d73a49">cron</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Every user has their own cron table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Edit the current users cron table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">crontab</span><span class="token plain"> -e</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="17"><li>Enter the following line in order to run at 6:00 on the first day of every month:</li></ol><p><img loading="lazy" alt="crontab" src="data:image/png;base64,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" width="482" height="46" class="img_ev3q"></p><ul><li>Note: Make sure you put your own username in that entry.</li></ul><ol start="18"><li><strong>Save</strong> the crontab entry.</li><li>Confirm that the entry was properly saved by issuing the following command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">crontab</span><span class="token plain"> -l</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Answer INVESTIGATION 1 observations / questions in your lab log book.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-2-managing-hard-disk-space-using-lvm">Investigation 2: Managing Hard Disk Space Using LVM<a class="hash-link" href="#investigation-2-managing-hard-disk-space-using-lvm" title="Direct link to heading">​</a></h2><p>An technology called <strong>Logical Volume Management (LVM)</strong> is a very useful tool for Linux system administrators to easily manage the changing needs of disk storage, in some cases, even when the computer system is running!</p><p><strong>LVM (Logical Volume Management)</strong> is used to manage disk storage for Linux and Unix systems. LVM provides more flexibility than traditional disk partitioning.</p><p><strong>Volume Groups</strong> are pools of storage space provided by one or more <strong>Physical Volumes</strong> (i.e. hard disks, disk partitions, or other forms of storage devices).</p><p><strong>Logical Volumes</strong> are then created from available space in a <strong>Volume Group</strong>, formatted with a filesystem (ie ext4), and then mounted on a particular directory in our filesystem hierarchy.</p><p><img loading="lazy" alt="lvm" src="/OSL740/assets/images/lvm-6fbd5702529da4b1a99ac075a5fe7281.png" width="800" height="331" class="img_ev3q"></p><p>LVM allows more flexibility and growth potential for Linux systems (for example, having Logical volumes span multiple hard disks). We chose to configure our Debian VM&#x27;s with LVM by during installation. Other Linux distributions may provide the capacity to install LVM.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-managing-file-system-size-with-existing-hard-drive">Part 1: Managing File System Size with Existing Hard Drive<a class="hash-link" href="#part-1-managing-file-system-size-with-existing-hard-drive" title="Direct link to heading">​</a></h3><p>We will now use LVM in order to grow and reduce our file system, using extra unallocated space on our existing (default) virtual hard disk for our deb2 VM.</p><p>There are a variety of tools both graphical and CLI based for managing LVM storage, we will focus on the traditional LVM command line tools such as:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># List Logical Volumes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lvs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List Physical Volumes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pvs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List Volume Groups</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vgs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># More detailed information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lvdisplay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pvdisplay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vgdisplay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Partition a physical disk</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fdisk</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Format a device with a filesystem</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkfs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Some commands for making LVM changes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pvcreate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vgcreate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vgextend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vgreduce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lvcreate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lvextend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lvreduce</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Perform the following steps:</strong></p><ol><li>Remain in your <strong>deb2</strong> VM for this section.</li><li>Launch an interactive sudo shell:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># List the virtual disk devices</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> /dev/vd*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List the LV&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lvs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List the VG&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vgs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List the PV&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pvs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List the mounted storage devices</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">df</span><span class="token plain"> -h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="deb2vda" src="/OSL740/assets/images/deb2vda-df380a329348a998d653741c510b0f1f.png" width="410" height="65" class="img_ev3q"></p><p>You can see that we have a single virtual disk (vda) which has 3 partitions (vda1, vda2, vda5)</p><p><img loading="lazy" alt="deb2lvm" src="/OSL740/assets/images/deb2lvm-15af18cfe6ffc7ec3f63ac4a20529fcb.png" width="841" height="233" class="img_ev3q"></p><p>You can see we have 3 LV&#x27;s (home, root, swap_1) that come from the same VG (deb2-vg).</p><p>You can see we have a single PV (/dev/vda5) that has been added to the deb2-vg VG.</p><p>You can see we have a single VG (deb2-vg) that has a single PV and 3 LV&#x27;s</p><p><img loading="lazy" alt="deb2dfh" src="/OSL740/assets/images/deb2dfh-0f2bb29ec16ec00d37e71de38d34a569.png" width="706" height="211" class="img_ev3q"></p><p>You can see that the <strong>home</strong> and <strong>root</strong> LV&#x27;s are mounted on <strong>/home</strong> and <strong>/</strong> directories. <strong>Make note of the filenames and path of the LV devices</strong></p><p>You can also see that the partition <strong>/dev/vda1</strong> is mounted on <strong>/boot</strong></p><blockquote><p><img loading="lazy" alt="caution" src="data:image/png;base64,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" width="64" height="64" class="img_ev3q"></p><p>The <strong>/boot</strong> directory contains all of the files required to boot the operating system. These files must be stored on a traditional partition because the LVM devices are unavailable until after the system boots</p></blockquote><ol start="3"><li>Check to see if there is any remaining space on your existing hard disk. Can you see any?</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># List partitions on /dev/vda</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fdisk</span><span class="token plain"> -l /dev/vda</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="deb2fdiskl" src="/OSL740/assets/images/deb2fdiskl-a1cd31fbab080b869762a7790804f8b2.png" width="659" height="242" class="img_ev3q"></p><p>You can see that all of the space has been allocated to existing partitions, so we will add a 2nd Virtual Disk to the VM.</p><ol start="4"><li>Click on the View menu in the virt-viewer and select Details...</li></ol><p><img loading="lazy" alt="deb2diskadd" src="/OSL740/assets/images/deb2diskadd-889cd7f513b335699a0d01b38c11314f.png" width="729" height="828" class="img_ev3q"></p><ol start="5"><li>Add a 3G Storage disk image</li><li>Switch back to Console view</li><li>List the virtual disk devices in /dev</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># List virtual disk devices</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> /dev/vd*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="deb2vdb" src="/OSL740/assets/images/deb2vdb-8f3efe08930f9955f5a2027c21b171eb.png" width="505" height="55" class="img_ev3q"></p><p>You can see a new device <strong>/dev/vdb</strong></p><ol start="8"><li>Create new partitions on /dev/vdb using <strong>fdisk</strong></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">fdisk</span><span class="token plain"> /dev/vdb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="9"><li><p>In <strong>fdisk</strong>...</p><ul><li>Type <strong>n</strong> to create a new partition</li><li>Type <strong>p</strong> for primary</li><li>Type <strong>1</strong> for partition number</li><li>Hit enter for the default First sector</li><li>Type <strong>+2G</strong> for Last sector</li><li>Type <strong>n</strong> to create a new partition</li><li>Type <strong>p</strong> for primary</li><li>Type <strong>2</strong> for partition number</li><li>Hit enter for the default First sector</li><li>Hit enter for the default Last sector</li><li>Type <strong>p</strong> to display the partition table</li><li>Type <strong>w</strong> to save the changes to the partition table</li></ul></li><li><p>You should now have 2 new partitions on <strong>/dev/vdb</strong></p></li></ol><p><img loading="lazy" alt="deb2vdbfdisk" src="/OSL740/assets/images/deb2vdbfdisk-ed7327e6ee27dc606530b44854355bbd.png" width="545" height="238" class="img_ev3q">
<img loading="lazy" alt="deb2vdbls" src="/OSL740/assets/images/deb2vdbls-2551627e4265f86532a732860b1a25cc.png" width="669" height="71" class="img_ev3q"></p><ol start="11"><li>Now label <strong>/dev/vdb1</strong> as a Physical Volume and add it to the existing Volume Group (deb2-vg)</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Label /dev/vdb1 as a PV</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pvcreate /dev/vdb1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add /dev/vdb1 to the deb2-vg VG</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vgextend deb2-vg /dev/vdb1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="12"><li>Now there should be an additional 2G of space available in the VG. Confirm the changes using the commands above</li></ol><p><img loading="lazy" alt="deb2vgextend" src="/OSL740/assets/images/deb2vgextend-38da286bfa1f643833d3e194fccc4b45.png" width="521" height="159" class="img_ev3q"></p><ol start="13"><li>Check the man page for the <strong>lvcreate</strong> command, make note of the -L and -n options</li><li>Create a new logical volume by issuing the following command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create new LV archive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lvcreate -L 1G -n archive deb2-vg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><strong>NOTE:</strong> Logical volumes are represented by a couple of different filenames below <strong>/dev</strong> which are themselves symlinks to a more obscsure name</p><p><img loading="lazy" alt="deb2lvfn" src="/OSL740/assets/images/deb2lvfn-09072f16a1a8df00a81ed7b6d1489333.png" width="707" height="292" class="img_ev3q"></p></blockquote><ol start="15"><li>Check the output of <strong>lvs</strong>, <strong>pvs</strong>, and <strong>vgs</strong> commands. You can see that your <strong>deb2-vg</strong> still has 1G of space free.</li><li>Format your newly-created LV as ext4 by issuing the command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkfs</span><span class="token plain"> -t ext4 /dev/deb2-vg/archive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="17"><li>Read the man page for <strong>lvreduce</strong> and check for the -L option. What is the significance of prefixing the size with <strong>&quot;+&quot;</strong> or <strong>&quot;-&quot;</strong>?</li></ol><blockquote><p>Note: <strong>lvextend</strong> and <strong>lvreduce</strong> can make relative changes to an LV&#x27;s size by adding to or subtracting from the current size. Omitting these prefixes will <strong>set</strong> the LV size to what you specified.</p></blockquote><ol start="18"><li>Attempt to reduce the archive LV size by issuing the command: <strong>DO NOT SAY &#x27;y&#x27; to confirm the command!!</strong></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lvreduce -L -0.5G deb2-vg/archive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><img loading="lazy" alt="deb2lvreduce" src="/OSL740/assets/images/deb2lvreduce-69c88a3c7d47d726b3f53d8d4a029558.png" width="523" height="116" class="img_ev3q"></p><p>The 1G archive LV contains an ext4 filesystem that is also 1G in size to fill the device. When the LV size is reduced, the filesystem format on it also needs to be resized, or it will be corrupted.</p><p>Also if an LV is increased in size with <strong>lvextend</strong> the filesystem on it also needs to extended to make the new space usable.</p><p>Both the <strong>lvextend</strong> and <strong>lvreduce</strong> commands have a <strong>-r</strong> option which causes the filesystem format to also be resized</p></blockquote><ol start="19"><li>Reduce the archive LV with the command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lvreduce -r -L -0.5G deb2-vg/archive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="20"><li><p>Issue commands to confirm the change</p></li><li><p>Now increase the size of the archive LV with the command:</p></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lvextend -r -L +1G deb2-vg/archive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="22"><li>Confirm the change</li></ol><p>One of the benefits of using LVM for storage is that often changes can be made to storage even while the system is running and in use. Currently the <strong>home</strong> LV is mounted on <strong>/home</strong> and in use but we can increase its size anyway. You still have 0.5G of space free in the <strong>deb2-vg</strong>.</p><p>Imagine you have received an email from the <strong>monitor-disk-space.bash</strong> informing you that the <strong>home</strong> LV is almost out of space. We can quickly add additional space to the LV</p><ol start="23"><li>Check the current usage of <strong>/home</strong> with the <code>df -h</code> command</li><li>Increase the size of the <strong>home</strong> LV by adding all of the available space with the command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lvextend -r -l +100%FREE deb2-vg/home</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>When you set a size using the <strong>-L</strong> option you are using standard storage units. (Gigabytes, Terabytes, etc) that is recalculated to the closest number of <strong>extents</strong>. <strong>Extents</strong> are a lower level unit of measurement for storage.</p><p><strong>-l +100%FREE</strong>, using a lowercase <strong>-l</strong> changes the size by extents. In this case it will add all of the free extents remaining in the VG to the <strong>home</strong> LV</p></blockquote><ol start="25"><li>Exit your sudo shell</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-manually--automatically-mount-partitions">Part 2: Manually &amp; Automatically Mount Partitions<a class="hash-link" href="#part-2-manually--automatically-mount-partitions" title="Direct link to heading">​</a></h3><p>We take for granted that when our system boots, all of the storage volumes will be successfully mounted on to the filesystem. During installation when we configured the storage devices they were added to the table of automatic filesystem mounts (<strong>/etc/fstab</strong>) by the installer. Now that we have added a new LV (<strong>archive</strong>), we need to mount it to make use of its space. We will also configure the system to mount it automatically at boot time. We will do this by editing the file system table (<strong>/etc/fstab</strong>). This file contains entries to mount various file systems automatically upon start-up of the Linux system.</p><p><img loading="lazy" alt="deb2mount" src="/OSL740/assets/images/deb2mount-47535d1fc30be8a5130a84d08c5baffa.png" width="1311" height="722" class="img_ev3q"></p><p>The Linux system administrator also has the ability to manually <strong>mount</strong> (connect) and <strong>un-mount</strong> (disconnect) partitions in order to perform maintenance on the file system (for example, un-mounting the <strong>/home</strong> partition to install software and prevent users from logging in during that process).</p><p>To mount a storage volume we need to provide the device name, the filesystem format, and the mount point.</p><p>A mount point is just a directory in the filesystem hierarchy. The directory SHOULD be empty. If a storage volume is mounted on a directory that is not empty, then the original contents of the directory will be inaccessible until the device is unmounted.</p><p><strong>Perform the following steps to mount the archive LV</strong></p><ol><li>Perform this part in your <strong>deb2</strong> VM.</li><li>Start an interactive sudo shell</li><li>Create the &quot;mount point&quot;, which is just a directory.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> /archive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><strong>Note:</strong> The mount point name does not have to match the LV name, but it can make it easier to remember how they are associated. 4. For demonstration purposes only, create a couple of empty files in <strong>/archive</strong>.</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># You should remember the touch command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">touch</span><span class="token plain"> /archive/file1 /archive/file2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> -l /archive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Use the mount command to mount the archive LV:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># View the currently mounted filesystems</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Mount the archive LV as an ext4 filesystem on the directory /archive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> -t ext4 /dev/deb2-vg/archive /archive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># You can use either pathname for the device</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># This command would also work</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> -t ext4 /dev/mapper/deb2--vg-archive /archive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Confirm the device is mounted</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Also verify with df</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">df</span><span class="token plain"> -h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Now that the device is mounted, what happened to the contents of <strong>/archive</strong>?</li><li>List the contents of <strong>/archive</strong></li><li>Are the empty files listed?</li></ol><p>The files have not been deleted or damaged. Instead they have been &quot;covered up&quot; by the contents of the <strong>archive</strong> LV. They are no longer visible or accessible.</p><ol start="8"><li>Now manually unmount the archive LV using the <strong>umount</strong> command. (Note the spelling of the <strong>umount</strong> command)</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Unmount using device name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">umount</span><span class="token plain"> /dev/mapper/deb2--vg-archive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Unmount using mount point name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">umount</span><span class="token plain"> /archive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Confirm with mount or df</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="9"><li>List the contents of the /archive directory. What do you see?</li></ol><p>The empty files are now visible once again. Reminding us that mount points should be empty directories.</p><p>In order to have the <strong>archive</strong> LV mounted automatically when the system boots, the filesystem table (<strong>/etc/fstab</strong>) must be edited. The <strong>mount</strong> command reads and works with the contents of <strong>/etc/fstab</strong> to determine what devices are automatically at system boot-up</p><ol start="10"><li>View the contents of the file-system table <strong>/etc/fstab</strong> by issuing the following command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /etc/fstab</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="deb2fstab" src="/OSL740/assets/images/deb2fstab-000b1d49c79ce62772ad5b24ea743235.png" width="1083" height="424" class="img_ev3q"></p><p>Notice that the entries in the table include fields for device name, mount point, and format type, followed by other options.</p><p>You can also see 2 different methods of identifying devices. Either by pathname under <strong>/dev/</strong> or by UUID. (Universally Unique ID)</p><p>Other useful commands for working with storage:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># List all block (storage) devices</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lsblk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List the UUID information for storage devices</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">blkid</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="11"><li>Edit the <strong>/etc/fstab</strong> file to add an entry to automatically mount the /archive directory upon booting:</li></ol><blockquote><p><img loading="lazy" alt="caution" src="data:image/png;base64,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" width="64" height="64" class="img_ev3q"></p><p>Errors in the /etc/fstab file can cause your system to fail to boot!</p><p>Edit this file VERY CAREFULLY!</p></blockquote><ol start="12"><li>Add the following line to the <strong>/etc/fstab</strong> file</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/dev/deb2-vg/archive /archive ext4 defaults </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note: do not alter any of the other lines that are already in that file.</p></blockquote><ol start="13"><li>Before rebooting we should test the new entry with the command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Mount all automount devices in /etc/fstab</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> -a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="14"><li>The filesystem table file <strong>/etc/fstab</strong> is read by <strong>systemd</strong> at boot time. After changing the file, <strong>systemd</strong> needs to be reloaded:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Reload systemd</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl daemon-reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Mount all automount devices in /etc/fstab</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> -a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If there are any errors you must correct them before rebooting <strong>deb2</strong>.</p><ol start="15"><li>Reboot <strong>deb2</strong> and confirm that the <strong>archive</strong> is correctly mounted.</li><li>Perform a system update on deb2 and shutdown</li></ol><p><strong>Answer the INVESTIGATION 2 observations / questions in your lab log book.</strong></p><p><img loading="lazy" alt="caution" src="data:image/png;base64,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" width="64" height="64" class="img_ev3q"></p><p>Both the configuration of the deb2 VM and the contents of the disk image have changed. Remember to backup both the XML and disk image of deb2</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lab-5-sign-off-show-instructor">Lab 5 Sign-Off (Show Instructor)<a class="hash-link" href="#lab-5-sign-off-show-instructor" title="Direct link to heading">​</a></h2><p><strong>Perform the Following Steps:</strong></p><ol><li>Make certain that your <strong>debhost</strong> and <strong>deb2</strong> VMs are running.</li><li>Switch to your <strong>debhost</strong> machine.</li><li>Open a shell terminal, change to your user&#x27;s <strong>bin</strong> directory.</li><li>Issue the Linux command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://raw.githubusercontent.com/jmcarman/osl740-debian-labs/main/lab5-check.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Give the <strong>lab5-check.bash</strong> file execute permissions (for the file owner).</li><li>Run the shell script (with elevated permissions) and if there are any warnings, make fixes and re-run shell script until you receive &quot;congratulations&quot; message.</li><li>Follow the submission instructions of your Professor.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="practice-for-quizzes-tests-midterm--final-exam">Practice For Quizzes, Tests, Midterm &amp; Final Exam<a class="hash-link" href="#practice-for-quizzes-tests-midterm--final-exam" title="Direct link to heading">​</a></h2><ol><li>What is a VG? PV? LV?</li><li>What is the total size of the &quot;deb2-vg&quot; VG on your system?</li><li>How do you create an LV?</li><li>How do resize an LV?</li><li>How would you add the disk partition <strong>/dev/sdb7</strong> to your volume group &quot;deb2-vg&quot;?</li><li>How would you increase the size of the root filesystem by 50 MB?</li><li>How can you determine if a partition has been mounted onto a system?</li><li>How can you unmount an existing partition from the file-system?</li><li>How can you temporarily mount a partition on a file-system?</li><li>How can you permanently mount a partition on a file-system upon boot-up?</li><li>What are the separate elements (fields) of the <strong>/etc/fstab</strong> file?</li><li>Describe the tools that a Linux system administrator have to monitor disk space usage.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Seneca-ICTOER/OSL740/tree/main/docs/A-Labs/lab5.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/OSL740/A-Labs/lab4"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 4</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/OSL740/A-Labs/lab6"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab 6</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lab-preparation" class="table-of-contents__link toc-highlight">Lab Preparation</a><ul><li><a href="#purpose-and-objectives-of-lab-5" class="table-of-contents__link toc-highlight">Purpose and Objectives of Lab 5</a></li><li><a href="#minimum-required-materials" class="table-of-contents__link toc-highlight">Minimum Required Materials</a></li><li><a href="#linux-command-reference" class="table-of-contents__link toc-highlight">Linux Command Reference</a></li></ul></li><li><a href="#investigation-1-monitoring-hard-disk-space" class="table-of-contents__link toc-highlight">Investigation 1: Monitoring Hard Disk Space</a><ul><li><a href="#part-1-hard-disk-space-utilities" class="table-of-contents__link toc-highlight">Part 1: Hard Disk Space Utilities</a></li><li><a href="#part-2-using-crontab-to-automatically-alert-system-administrator-of-low-hard-disk-space" class="table-of-contents__link toc-highlight">Part 2: Using crontab to Automatically Alert System Administrator of Low Hard Disk Space</a></li></ul></li><li><a href="#investigation-2-managing-hard-disk-space-using-lvm" class="table-of-contents__link toc-highlight">Investigation 2: Managing Hard Disk Space Using LVM</a><ul><li><a href="#part-1-managing-file-system-size-with-existing-hard-drive" class="table-of-contents__link toc-highlight">Part 1: Managing File System Size with Existing Hard Drive</a></li><li><a href="#part-2-manually--automatically-mount-partitions" class="table-of-contents__link toc-highlight">Part 2: Manually &amp; Automatically Mount Partitions</a></li></ul></li><li><a href="#lab-5-sign-off-show-instructor" class="table-of-contents__link toc-highlight">Lab 5 Sign-Off (Show Instructor)</a></li><li><a href="#practice-for-quizzes-tests-midterm--final-exam" class="table-of-contents__link toc-highlight">Practice For Quizzes, Tests, Midterm &amp; Final Exam</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OSL740 - Administration of Open Source Systems</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/OSL740/">Contents</a></li><li class="footer__item"><a href="#" id="pwa-button" class="footer__link-item" hidden>Install as an App</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Seneca College.</div></div></div></footer></div>
<script src="/OSL740/assets/js/runtime~main.5c1cf171.js"></script>
<script src="/OSL740/assets/js/main.c1b33485.js"></script>
</body>
</html>