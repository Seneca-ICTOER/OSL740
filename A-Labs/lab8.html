<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-A-Labs/lab8">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="icon" href="/OSL740/img/pwa/icon-512x512.png">
<link rel="manifest" href="/OSL740/manifest.json">
<meta name="theme-color" content="#DA291C">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#DA291C">
<link rel="apple-touch-icon" href="/OSL740/img/pwa/icon-192x192.png">
<link rel="mask-icon" href="/OSL740/img/pwa/icon-512x512.png" color="#DA291C">
<meta name="msapplication-TileImage" content="/OSL740/img/pwa/icon-512x512.png">
<meta name="msapplication-TileColor" content="#DA291C">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Lab 8 | OSL740 - Administration of Open Source Systems</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Seneca-ICTOER.github.io//OSL740/A-Labs/lab8"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 8 | OSL740 - Administration of Open Source Systems"><meta data-rh="true" name="description" content="Lab 8 for Students to Complete and Submit"><meta data-rh="true" property="og:description" content="Lab 8 for Students to Complete and Submit"><link data-rh="true" rel="icon" href="/OSL740/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Seneca-ICTOER.github.io//OSL740/A-Labs/lab8"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OSL740/A-Labs/lab8" hreflang="en"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OSL740/A-Labs/lab8" hreflang="x-default"><link rel="stylesheet" href="/OSL740/assets/css/styles.099fe1a9.css">
<link rel="preload" href="/OSL740/assets/js/runtime~main.93ae559f.js" as="script">
<link rel="preload" href="/OSL740/assets/js/main.90f2afc0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/OSL740/"><div class="navbar__logo"><img src="/OSL740/img/logo.svg" alt="Seneca College" class="themedImage_ToTc themedImage--light_HNdA"><img src="/OSL740/img/logo-dark.svg" alt="Seneca College" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OSL740 - Administration of Open Source Systems</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSL740/">Welcome to OSL740</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSL740/weekly-schedule">Weekly Schedule</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/OSL740/A-Labs/lab1">Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab1">Lab 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab2">Lab 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab3">Lab 3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab4">Lab 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab5">Lab 5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab6">Lab 6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL740/A-Labs/lab7">Lab 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/OSL740/A-Labs/lab8">Lab 8</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OSL740/B-Assignments/assignment1">Assignments</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OSL740/C-ExtraResources/tips">Extra Resources</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/OSL740/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Labs</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 8</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Lab 8: Setup and Configure a DHCP Server</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lab-preparation">Lab Preparation<a class="hash-link" href="#lab-preparation" title="Direct link to heading">​</a></h2><p><strong>DO NOT START THIS LAB BEFORE SUCCESSFULLY SUBMITTING LABS 1-7: This lab will change some system values that make previous lab checks fail. For best results, confirm with your professor before proceeding.</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h3><p>There are different ways in which computers can be networked together. Some computer networks (such as computer labs) configure their workstations for <strong>static IP addresses for security and to provide other interesting features such as WOL</strong> (Wake Up on Lan) which allows a signal from a computer system to remotely start all or specified workstations within the lab.</p><p><img loading="lazy" alt="DHCP Pic" src="/OSL740/assets/images/Dhcp-pic-a50a5e1b51324c506011084bccdf7fe2.png" width="585" height="469" class="img_ev3q"></p><p><strong>Hot-spots (such as cafes or airport lounges) offer the ability for users to connect to the Internet (via</strong> DHCP) <strong>from their mobile devices (notebooks, netbooks, tablets, or smart phones). Finally, there are</strong> hybrid <strong>solutions that may offer both fixed IP address (computer workstations) and allow for wireless connections (via DHCP) to a mobile devices (like at your Seneca computer labs).</strong></p><p>In lab6, you learned to connect your VMs to a network using a fixed IP Address. In this final lab, you will learn to set-up a <strong>DHCP server</strong> to automatically assign IP Addresses upon connection requests.</p><p><strong>Main Objectives</strong></p><ul><li>To install, configure, and test Internet Systems Consortium&#x27;s (<strong>ISC</strong>&#x27;s) DHCP Server.</li><li>To obtain log information from DHCP server including lease address information.</li><li>To lease the same IP address every-time from VM boot-up (instead of having DHCP server randomly assign IP address).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-required-materials">Minimum Required Materials<a class="hash-link" href="#minimum-required-materials" title="Direct link to heading">​</a></h3><ul><li><strong>Solid State Drive</strong></li><li><strong>USB key</strong> (for backups)</li><li><strong>Lab8 Log Book</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux-command-reference">Linux Command Reference<a class="hash-link" href="#linux-command-reference" title="Direct link to heading">​</a></h3><p><strong>Networking Utilities</strong></p><ul><li><a href="http://linux.die.net/man/8/dhcpd" target="_blank" rel="noopener noreferrer">dhcpd</a></li></ul><p><strong>Managing Services</strong></p><ul><li><a href="http://www.dsm.fordham.edu/cgi-bin/man-cgi.pl?topic=systemctl" target="_blank" rel="noopener noreferrer">systemctl</a></li></ul><p><strong>Additional Utilities</strong></p><ul><li><a href="http://man7.org/linux/man-pages/man1/tail.1.html" target="_blank" rel="noopener noreferrer">tail</a></li></ul><p><strong>Configuration Files</strong></p><ul><li><a href="https://www.freebsd.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5&amp;apropos=0&amp;manpath=FreeBSD+9.0-RELEASE+and+Ports" target="_blank" rel="noopener noreferrer">dhcpd.conf</a></li><li><a href="http://linux.die.net/man/5/dhcp-options" target="_blank" rel="noopener noreferrer">dhcpd-options</a></li><li><a href="http://linux.die.net/man/5/dhcpd.leases" target="_blank" rel="noopener noreferrer">dhcpd.leases</a></li><li><a href="http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-dhcp-configuring-server.html" target="_blank" rel="noopener noreferrer">Configuring a DHCP Server</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-1-install-and-configure-a-dhcp-server">Investigation 1: Install And Configure A DHCP Server<a class="hash-link" href="#investigation-1-install-and-configure-a-dhcp-server" title="Direct link to heading">​</a></h2><p>This lab will demonstrate setting up a DHCP server. The term <strong>DHCP</strong> stands for <strong>Dynamic Host Configuration Protocol</strong>. DHCP allows computers (eg. workstations, notebooks, smart-phones) to be automatically configured so that they can communicate over a network. This automatic configuration has gained popularity over the years, especially as the need for detecting and configuring portable computer devices increases. DHCP configuration allows for various setups including: <strong>Dynamic</strong>, <strong>Automatic</strong>, and <strong>Static</strong> allocation.</p><p><img loading="lazy" alt="DORA" src="/OSL740/assets/images/Dora-67a1e54f9f13a472b7173ed2b1ac73b9.png" width="754" height="391" class="img_ev3q"></p><p>The term <strong>DORA</strong> best describes how DHCP Works:</p><table><thead><tr><th>Term</th><th>Usage</th></tr></thead><tbody><tr><td><strong>D</strong>iscovery</td><td>The client broadcasts a <strong>message</strong> (IP lease request) on a sub-network to <strong>discover</strong> available DHCP servers.</td></tr><tr><td><strong>O</strong>ffer</td><td>The DHCP server receives the request from the client, <strong>reserves an IP ADDRESS</strong> for the client and sends a <strong>DHCPOFFER</strong> to the client.</td></tr><tr><td><strong>R</strong>equest</td><td>After receiving a <strong>DHCPOFFER</strong>, the DHCP client broadcasts a message <strong>request for acceptance</strong> (<strong>DHCPREQUEST</strong>) to all DHCP servers and, in doing so, the DHCP client notifies all DHCP servers which DHCP server this DHCP client is requesting acceptance from.</td></tr><tr><td><strong>A</strong>cknowledgement</td><td>The DHCP server identified in the <strong>DHCPREQUEST</strong> sends a <strong>message of acceptance to the client</strong> and the client then receives from that DHCP server a <strong>packet of information</strong> containing the lease duration and other configuration information.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-installation-of-a-dhcp">Part 1: Installation of a DHCP<a class="hash-link" href="#part-1-installation-of-a-dhcp" title="Direct link to heading">​</a></h3><p><strong>VM Backups and Yum Updates</strong></p><p>Before proceeding with this lab make certain that you have backed-up from lab7, and then perform a <strong>yum update</strong> on all machines (including your VMs)</p><p><strong>Perform the following steps:</strong></p><ol><li><p>Launch your c7host machine and your centos3 VM.</p></li><li><p>Switch to your <strong>centos3</strong> VM.</p><ul><li>The version of DHCP server that comes with CentOS is maintained and distributed by the <strong>Internet Software Consortium</strong> (<a href="https://www.isc.org/" target="_blank" rel="noopener noreferrer">https://www.isc.org/</a>). The source package that you can download from ISC includes not only the DHCP server, but also a DHCP client and a DHCP relay agent. CentOS separates it into two RPM packages: the DHCP client package and the DHCP server package. The DHCP client package is installed by default by the workstation installation.</li></ul></li><li><p>To check that you have <strong>dhcp</strong> installed, enter the command:</p></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -qa dhcp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>If there are no files displayed, then issue the following command to install the dhcp server package:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y dhcp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Again, enter the command to list all the files installed from the DHCP server package by issuing the command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -qla dhcp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="6"><li>Which file appears to be a sample (example) <strong>configuration file for dhcpd.conf</strong>?</li><li>While you could copy the <strong>dhcpd.conf.example</strong> file to the <strong>/etc/dhcp/dhcpd.conf</strong>, it is recommended that you start a new <strong>/etc/dhcp/dhcpd.conf</strong> from scratch.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-configuring-the-dhcp-server">Part 2: Configuring the DHCP Server<a class="hash-link" href="#part-2-configuring-the-dhcp-server" title="Direct link to heading">​</a></h3><p><strong>Perform the following steps:</strong></p><ol><li><p>Remain in your <strong>centos3</strong> VM for this section.</p></li><li><p>Click on the following link to access the online manual page for the following DHCP items to gain an understanding:</p><ul><li><a href="http://linux.die.net/man/8/dhcpd" target="_blank" rel="noopener noreferrer">dhcpd</a></li><li><a href="https://www.freebsd.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5&amp;apropos=0&amp;manpath=FreeBSD+9.0-RELEASE+and+Ports" target="_blank" rel="noopener noreferrer">dhcpd.conf</a></li><li><a href="http://linux.die.net/man/5/dhcp-options" target="_blank" rel="noopener noreferrer">dhcpd-options</a></li><li><a href="http://linux.die.net/man/5/dhcpd.leases" target="_blank" rel="noopener noreferrer">dhcpd.leases</a></li></ul></li><li><p>Study the sample <strong>dhcpd.conf</strong> file to see examples of how these options are used.</p></li><li><p>Review the contents of <strong>/etc/dhcp/dhcpd.conf</strong> file (see the picture) and examine the top section of the file.</p></li><li><p>Be advised: &quot;<strong>option</strong> definitions common to all supported networks&quot;. Change the existing global options with the newer values shown below, if the <strong>dhcpd.conf</strong> file is empty, add them manually:</p></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">option domain-name </span><span class="token string" style="color:#e3116c">&quot;osl740.org&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">option domain-name-servers </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default-lease-time </span><span class="token number" style="color:#36acaa">1200</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max-lease-time </span><span class="token number" style="color:#36acaa">3600</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>Note</strong>: Any values for time are stated in seconds.</li></ul><p><img loading="lazy" alt="DHCP Config" src="/OSL740/assets/images/Dhcp-config-bcc68e5ad6191311657e6a0c2be814e5.png" width="789" height="510" class="img_ev3q"></p><p>The <strong>dhcpd.config</strong> file allows the Linux system administrator to customize the DCHP server. Generally in this file are <strong>global settings</strong> (options that apply throughout entire network) and <strong>subnet declarations</strong> (options that apply only to that subnet). Whenever changes are made to this file, the <strong>DCHP service needs to be restarted</strong> to allow new settings to take effect.</p><p><strong>NOTE: Any errors in this file (such as typos or missing semi-colons) can cause the DHCP server not to restart!</strong></p><ol start="6"><li>View your editing sessions for typos (check for missing semicolons), then save and exit your editing session.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-3-configuring-dhcp-server-for-static-ip-addresses">Part 3: Configuring DHCP Server for Static IP Addresses<a class="hash-link" href="#part-3-configuring-dhcp-server-for-static-ip-addresses" title="Direct link to heading">​</a></h3><p><strong>Recall Secure SSH Connection Method from Lab7</strong></p><p>Do not forget that you made ssh more secure in the previous lab. Therefore, you will need to use the same command in lab7 to securely connect to your VM.</p><p><strong>Perform the following steps:</strong></p><ol><li><p>Remain in your <strong>centos3</strong> VM for this section.</p></li><li><p>Edit <strong>/etc/dhcp/dhcpd.conf</strong> for a second time.</p></li><li><p>View this file for existing subnet declarations. Note the syntax and the directive for <strong>range</strong> and the option for <strong>routers</strong> (gateway).</p></li><li><p>Now, add a new subnet declaration for your virtual network:</p><ul><li>The network address is: <strong>192.168.245.0/255.255.255.0</strong></li><li>range of host addresses should be from: <strong>51 to 60</strong></li><li>default gateway (routers) for the virtual network is: <strong>192.168.245.1</strong></li></ul></li><li><p>Save your editing session, and exit the text editor.</p></li><li><p>Open another terminal window (<strong>Tip</strong>: <strong>ssh</strong> into your <strong>centos3</strong> VM from your <strong>c7host</strong> as <strong>root</strong>) and issue the following command:</p></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tail</span><span class="token plain"> -f /var/log/messages</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>(This will show you the last lines of <strong>/var/log/messages</strong> continue to display new lines as they are added to the log for confirmation and troubleshooting.)</li></ul><ol start="7"><li>In your <strong>centos3</strong> terminal, attempt to start the <strong>dhcpd</strong> service.</li><li>You should see new lines being added to the messages file.</li><li>If the <strong>dhcpd</strong> service fails to start any error messages will be logged in the messages file. Read the errors and attempt to fix your configuration file.</li><li>If the <strong>dhcpd</strong> service starts successfully you should see success messages in the log.</li><li>If your <strong>dhcpd</strong> service starts successfully, try to generate errors by editing the configuration file and introduce an error by removing a semicolon or closing curly bracket.</li><li>Restart your <strong>dhcpd</strong> service and observe the error messages generated. This is good practice to learn how to trouble-shoot and solve dhcpd errors.</li><li>Make certain that you have corrected those errors, and that your dhcpd service works properly.</li><li>Once the dhcpd service has is running, use the <strong>systemctl</strong> command to see if the dhcpd service is enabled (Hint: use a pipeline command using <strong>grep</strong> to detect the pattern: <strong>enabled</strong>). If it is not enabled, use the <strong>systemctl</strong> command to enable the dhcpd service so it started automatically upon boot-up.</li></ol><p><strong>Troubleshooting Tip:</strong></p><p>Troubleshooting produces the best results when you are methodical in your approach. Try to fix the first error mentioned before fixing subsequent errors. Often the first error may cause multiple error messages as the configuration file is parsed. When you think you have fixed the first error try to start your service and if it fails check the log again. Fix one error at a time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-4-how-do-i-test-my-dhcpd-service-on-my-virtual-network">Part 4: How do I test my dhcpd service on my virtual network?<a class="hash-link" href="#part-4-how-do-i-test-my-dhcpd-service-on-my-virtual-network" title="Direct link to heading">​</a></h3><p><strong>Identifying DHCP Lease Transaction Information</strong></p><p>These messages record the DHCP lease transaction that consists of 4 broadcast packets, DISCOVER, OFFER, REQUEST and ACKNOWLEDGE. Try researching on the internet how this transaction differs from a DHCP lease renewal.</p><p><strong>Perform the following steps:</strong></p><ol><li>Use your <strong>centos1</strong> and <strong>centos3</strong> VMs for this section.</li><li>On your <strong>centos3</strong> terminal window (via ssh from your c7hsot machine) make sure that the command below is running</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tail</span><span class="token plain"> -f /var/log/messages</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li><p>On your <strong>centos1</strong> VM, Graphically change the configuration of <strong>eth0</strong> (or your interface name) to receive dynamic address configuration (i.e. via graphical application, for IVP4 tab, change <em>Address</em> from <strong>Manual</strong> to <strong>DHCP</strong>, and <strong>Apply</strong> settings) (<a href="/OSL740/A-Labs/lab6#part-2-configuring-network-for-centos1-vm">Refer to Lab6, Investigation1, Part2</a>).</p><ul><li>Note: if you are configuring via command line, make certain to restart the network for centos1.</li></ul></li><li><p>Logout and restart your <strong>centos1</strong> VM.</p></li><li><p>Observe the messages that get logged from the tail -f command as your centos1 VM starts. You should see output similar to the following:</p></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Mar </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"> 02:09:49 centos3 dhcpd: DHCPDISCOVER from </span><span class="token number" style="color:#36acaa">52</span><span class="token plain">:54:00:7c:85:13 via eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mar </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"> 02:09:50 centos3 dhcpd: DHCPOFFER on </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.51 to </span><span class="token number" style="color:#36acaa">52</span><span class="token plain">:54:00:7c:85:13 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">centos1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> via eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mar </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"> 02:09:50 centos3 dhcpd: DHCPREQUEST </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.51 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.13</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> from </span><span class="token number" style="color:#36acaa">52</span><span class="token plain">:54:00:7c:85:13 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">centos1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> via eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mar </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"> 02:09:50 centos3 dhcpd: DHCPACK on </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.51 to </span><span class="token number" style="color:#36acaa">52</span><span class="token plain">:54:00:7c:85:13 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">centos1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> via eth0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="6"><li>On your <strong>centos1</strong> VM, open a terminal, and confirm the IP address assignment using</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> address show</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="7"><li>Has the IP Address changed? If so, how has the IP Address been assigned according to the <strong>dhcpd.conf</strong> file settings?</li></ol><p><strong>Answer INVESTIGATION 1 observations / questions in your lab log book.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-2-obtaining-lease-and-lease-permanent-ip-address-information">Investigation 2: Obtaining Lease and Lease Permanent IP Address Information<a class="hash-link" href="#investigation-2-obtaining-lease-and-lease-permanent-ip-address-information" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-obtaining-leased-address-infomation">Part 1: Obtaining Leased Address Infomation<a class="hash-link" href="#part-1-obtaining-leased-address-infomation" title="Direct link to heading">​</a></h3><p><strong>Purpose of dhcpd.leases File</strong></p><p>dhcpd records address leases in this file. If the service is restarted it reads in the file to know which addresses are currently leased and for how long.</p><p><strong>Perform the following steps:</strong></p><ol><li>Remain in your <strong>centos1</strong> and <strong>centos3</strong> VMs for this section.</li><li>If your <strong>centos3</strong> DHCP server successfully issued the proper IP address configuration values to <strong>centos1</strong>, check the file called: <strong>/var/lib/dhcpd/dhcpd.leases</strong> in your <strong>centos3</strong> VM. You should get the similar contents:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lease </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.51 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   starts </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">/03/22 01:07:00</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ends </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">/03/22 01:27:00</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   cltt </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">/03/22 01:07:00</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   binding state active</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   next binding state </span><span class="token function" style="color:#d73a49">free</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   rewind binding state </span><span class="token function" style="color:#d73a49">free</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   hardware ethernet </span><span class="token number" style="color:#36acaa">52</span><span class="token plain">:54:00:ba:75:a8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li><p>On the client <strong>centos1</strong> check the contents of the <strong>/var/lib/dhclient</strong> directory. The files in this directory is where the dhclient stores its record of leases.</p><ul><li><strong>NOTE</strong>: If there are no files, then in a shell in your <strong>centos1</strong> VM issue the command:</li></ul></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dhclient eth0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Then check to see if there is file containing lease information in that directory. You should get the similar contents:</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lease </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   interface </span><span class="token string" style="color:#e3116c">&quot;eth0&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   fixed-address </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.52</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   option subnet-mask </span><span class="token number" style="color:#36acaa">255.255</span><span class="token plain">.255.0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   option routers </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   option dhcp-lease-time </span><span class="token number" style="color:#36acaa">1200</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   option dhcp-message-type </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   option domain-name-servers </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   option dhcp-server-identifier </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.245.13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   option domain-name </span><span class="token string" style="color:#e3116c">&quot;ops245.org&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   renew </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">/03/22 02:23:06</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   rebind </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">/03/22 02:31:52</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   expire </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">/03/22 02:34:22</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Answer Part 1 observations / questions in your lab log book.</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-configuring-dhcp-server-to-continually-lease-same-ip-address">Part 2: Configuring DHCP server to Continually Lease Same IP Address<a class="hash-link" href="#part-2-configuring-dhcp-server-to-continually-lease-same-ip-address" title="Direct link to heading">​</a></h3><p><strong>Reserving IP Addresses with DHCP</strong></p><p>Even though DHCP gives out IP address dynamically, it also has the ability to reserve an IP address for a certain computer. In this sense it&#x27;s almost as if the client computer has a static IP even though it uses DHCP to get it. This is useful if you want to be able to put entries in your /etc/hosts file and not have to worry about the entry becoming invalid over time. In Linux we refer to this as supplying a fixed address to a host. Microsoft calls it a reservation.</p><p><strong>Perform the following steps:</strong></p><ol><li><p>Remain in your <strong>centos1</strong> and <strong>cento3</strong> VMs for this section.</p></li><li><p>Make certain that you are located in your <strong>centos3</strong> virtual machine.</p></li><li><p>Edit the dchpd.conf file and make the following changes:</p><ul><li>Create a <strong>host</strong> declaration with the name: <strong>centos1</strong> (tip: search for the key-word &quot;<strong>host</strong>&quot; in the text editor to see an example, if it is empty, do a little research on the Internet).</li><li>Set the <strong>hardware ethernet</strong> option for the MAC address of the eth0 on your <strong>centos1</strong> VM.</li><li>Set the <strong>fixed-address</strong> option to the ip address: <strong>192.168.245.42</strong></li><li><strong>Note</strong>: When supplying fixed-address it is important that the address assigned is exclusive of any ranges that have been declared. Otherwise it may be possible for 2 different hosts to receive the same address.</li></ul></li><li><p>Restart the dhcpd service and test the address assignment by releasing your current address on <strong>centos1</strong> and then requesting a new address. Use the following commands on <strong>centos1</strong>:</p></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ifdown</span><span class="token plain"> eth0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ifup</span><span class="token plain"> eth0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Confirm that you received the fixed address you were supposed to.</li></ol><p><strong>Answer INVESTIGATION 2 observations / questions in your lab log book.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lab-8-sign-off-show-instructor">Lab 8 Sign-Off (Show Instructor)<a class="hash-link" href="#lab-8-sign-off-show-instructor" title="Direct link to heading">​</a></h2><p>Follow the submission instructions for lab 8 on Blackboard.</p><p><strong>Time for a new backup!</strong></p><p>If you have successfully completed this lab, make a new backup of your virtual machines as well as your host machine.</p><p><strong>Perform the Following Steps:</strong></p><ol><li>Make certain ALL of your <strong>centos1</strong> and <strong>centos3</strong> VMs are running.</li><li>Switch to your <strong>c7host</strong> VM and change to your user&#x27;s <strong>bin</strong> directory.</li><li>Issue the Linux command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://osl740.github.io/labs/lab8-check.bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Give the <strong>lab8-check.bash</strong> file execute permissions (for the file owner).</li><li>Run the shell script and if any warnings, make fixes and re-run shell script until you receive &quot;congratulations&quot; message.</li><li>Arrange proof of the following on the screen:</li></ol><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> <strong>centos1</strong> VM:</p><ul><li><strong>ip address show</strong> shows IP address <strong>192.168.245.42</strong></li><li>DHCP client lease file</li></ul></li><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> <strong>centos3</strong> VM:</p><ul><li>DHCP server log file showing a lease occuring</li><li>DHCP server configuration file showing subnet and host declaration</li><li>DHCP server lease file</li></ul></li><li class="task-list-item"><p><input type="checkbox" checked="" disabled=""> <strong>Lab8</strong> log-book filled out.</p></li></ul><ol start="7"><li>Upload a screenshot of the proof from the previous step along with your logbook, and the file generated by <strong>lab8-check.bash</strong>.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="practice-for-quizzes-tests-midterm-and-final-exam">Practice For Quizzes, Tests, Midterm, and Final Exam<a class="hash-link" href="#practice-for-quizzes-tests-midterm-and-final-exam" title="Direct link to heading">​</a></h2><ol><li>What protocol and port does dhcp use?</li><li>What file is used to configure dhcpd?</li><li>Can a dhcp server also be a dhcp client?</li><li>What is the difference between max-lease-time and default-lease-time?</li><li>What unit of measurement does default-lease-time require?</li><li>What dhcp option is used for configuring a default gateway?</li><li>What is the parameter range in the DHCP server configuration file used for?</li><li>What is the purpose of a dhcp relay agent?</li><li>Why might a dhcp relay agent be required?</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Seneca-ICTOER/OSL740/tree/main/docs/A-Labs/lab8.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/OSL740/A-Labs/lab7"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 7</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/OSL740/B-Assignments/assignment1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Assignment 1</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lab-preparation" class="table-of-contents__link toc-highlight">Lab Preparation</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#minimum-required-materials" class="table-of-contents__link toc-highlight">Minimum Required Materials</a></li><li><a href="#linux-command-reference" class="table-of-contents__link toc-highlight">Linux Command Reference</a></li></ul></li><li><a href="#investigation-1-install-and-configure-a-dhcp-server" class="table-of-contents__link toc-highlight">Investigation 1: Install And Configure A DHCP Server</a><ul><li><a href="#part-1-installation-of-a-dhcp" class="table-of-contents__link toc-highlight">Part 1: Installation of a DHCP</a></li><li><a href="#part-2-configuring-the-dhcp-server" class="table-of-contents__link toc-highlight">Part 2: Configuring the DHCP Server</a></li><li><a href="#part-3-configuring-dhcp-server-for-static-ip-addresses" class="table-of-contents__link toc-highlight">Part 3: Configuring DHCP Server for Static IP Addresses</a></li><li><a href="#part-4-how-do-i-test-my-dhcpd-service-on-my-virtual-network" class="table-of-contents__link toc-highlight">Part 4: How do I test my dhcpd service on my virtual network?</a></li></ul></li><li><a href="#investigation-2-obtaining-lease-and-lease-permanent-ip-address-information" class="table-of-contents__link toc-highlight">Investigation 2: Obtaining Lease and Lease Permanent IP Address Information</a><ul><li><a href="#part-1-obtaining-leased-address-infomation" class="table-of-contents__link toc-highlight">Part 1: Obtaining Leased Address Infomation</a></li><li><a href="#part-2-configuring-dhcp-server-to-continually-lease-same-ip-address" class="table-of-contents__link toc-highlight">Part 2: Configuring DHCP server to Continually Lease Same IP Address</a></li></ul></li><li><a href="#lab-8-sign-off-show-instructor" class="table-of-contents__link toc-highlight">Lab 8 Sign-Off (Show Instructor)</a></li><li><a href="#practice-for-quizzes-tests-midterm-and-final-exam" class="table-of-contents__link toc-highlight">Practice For Quizzes, Tests, Midterm, and Final Exam</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OSL740 - Administration of Open Source Systems</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/OSL740/">Contents</a></li><li class="footer__item"><a href="#" id="pwa-button" class="footer__link-item" hidden>Install as an App</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Seneca College.</div></div></div></footer></div>
<script src="/OSL740/assets/js/runtime~main.93ae559f.js"></script>
<script src="/OSL740/assets/js/main.90f2afc0.js"></script>
</body>
</html>